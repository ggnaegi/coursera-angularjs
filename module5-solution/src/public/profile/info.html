<div class="container">
    <h2 class="text-center">
        User Profile Information
    </h2>
    <div ng-if="!profileInfoCtrl.registered">
        <p class="text-center">Not Signed Up/Not Logged In Yet. <button ng-controller="LoginController as loginCtrl" ng-click="loginCtrl.openLoginModal()">Login</button> | <a ui-sref="public.signup">Sign up Now!</a></p>
    </div>

    <div class="row" ng-if="profileInfoCtrl.registered">
        <div class="col-md-5">
            <form name="signupForm" novalidate>
                <div class="form-group">
                    <label>Firstname</label>
                    <input type="text" name="firstName" class="form-control" ng-model="profileInfoCtrl.userProfile.firstname" placeholder="Firstname" required>
                    <span class="help-block" ng-if="signupForm.firstName.$error.required && signupForm.firstName.$touched">
                            Firstname required.
                        </span>
                </div>
                <div class="form-group">
                    <label>Lastname</label>
                    <input type="text" name="lastName" class="form-control" ng-model="profileInfoCtrl.userProfile.lastname" placeholder="Lastname" required>
                    <span class="help-block" ng-if="signupForm.lastName.$error.required && signupForm.lastName.$touched">
                            Lastname required.
                        </span>
                </div>
                <div class="form-group">
                    <label>Email address</label>
                    <input type="email" name="email" class="form-control" ng-model="profileInfoCtrl.userProfile.email" placeholder="name@domain.com" required>
                    <span class="help-block" ng-if="signupForm.email.$invalid && signupForm.email.$touched">
                            Must be a valid email address.
                        </span>
                </div>
                <div class="form-group">
                    <label>Phone number</label>
                    <input type="tel" name="phone" pattern="(\d{3})-(\d{3})-(\d{4})" class="form-control" ng-model="profileInfoCtrl.userProfile.phone" placeholder="###-###-####" required>
                    <span class="help-block" ng-if="signupForm.phone.$invalid && signupForm.phone.$touched">
                            Phone number must be in the format ###-###-####.
                        </span>
                </div>
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" name="address" class="form-control" ng-model="profileInfoCtrl.userProfile.address" placeholder="Address" >
                </div>
                <div class="form-group">
                    <label>City</label>
                    <input type="text" name="city" class="form-control" ng-model="profileInfoCtrl.userProfile.city" placeholder="City" >
                </div>
                <div class="form-group">
                    <label>Postcode</label>
                    <input type="text" name="postcode" class="form-control" ng-model="profileInfoCtrl.userProfile.postCode" placeholder="Postcode" >
                </div>
                <div class="form-group">
                    <label>Favorite Menu</label>
                    <input type="text" name="menuitem" class="form-control" ng-model="profileInfoCtrl.userProfile.favoriteMenuItem" placeholder="Menu number" favorite-menu-item-directive ng-model-options="{ updateOn: 'blur' }" required>
                    <span class="help-block" ng-if="signupForm.$error.invalidFavoriteMenuItem">
                        No such menu number exists.
                    </span>
                </div>
                <button ng-disabled="signupForm.$pending || signupForm.$invalid" ng-click="profileInfoCtrl.update()" class="btn btn-default">Update</button>
            </form>
        </div>
        <div class="col-md-5">
            <h2>Favorite Menu</h2>
            <div class="row">
                <div class="col-sm-5">
                    <div class="menu-item-photo">
                        <div>{{profileInfoCtrl.favoriteMenu.short_name}}</div>
                        <img class="img-responsive" width="250" height="150" ng-src="{{profileInfoCtrl.basePath}}/images/{{profileInfoCtrl.favoriteMenu.short_name}}.jpg" alt="{{profileInfoCtrl.favoriteMenu.short_name}}">
                    </div>
                </div>
                <div class="menu-item-description col-sm-7">
                    <h3 class="menu-item-title">{{profileInfoCtrl.favoriteMenu.name}}</h3>
                    <p class="menu-item-details">{{profileInfoCtrl.favoriteMenu.description}}</p>
                </div>
            </div>
        </div>
    </div>
</div>
